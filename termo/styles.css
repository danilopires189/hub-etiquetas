:root{
  --label-w-mm: 92.5;
  --label-h-mm: 50;
  --margin-mm: 2;
  --font-pt: 11;
  --barcode-h-mm: 20;
  --brand-blue: #062e6f;
  --ink: #0f172a;
  --muted: #64748b;
}
*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  font-family: ui-sans-serif,system-ui,Segoe UI,Arial,sans-serif;
  margin:0; color:var(--ink);
  background: radial-gradient(1200px 400px at 50% -200px, #ffe6ee3d, transparent 60%) , linear-gradient(180deg,#f3f6ff 0%, #fff 40%);
}
.app-header{
  position: sticky; top:0; z-index: 10;
  display:flex; align-items:center; justify-content:space-between;
  gap:12px; padding:12px 16px;
  background: linear-gradient(90deg, rgba(224,0,43,.10), rgba(6,46,111,.10));
  border-bottom:1px solid #e6ecff;
}
.brand{ display:flex; align-items:center; gap:12px; }
.brand-logos{ display:flex; gap:8px; align-items:center; }
.brand-logo{ width:42px; height:42px; border-radius:8px; object-fit:contain; padding:2px; background:transparent; box-shadow:0 1px 2px rgba(0,0,0,.15); }
.brand-text strong{ display:block; line-height:1; color:var(--brand-blue); }
.brand-text span{ color:var(--muted); font-size:12px; }
.actions{ display:flex; gap:8px; }
.btn{ appearance:none; border:1px solid transparent; padding:10px 14px; border-radius:10px; font-weight:600; cursor:pointer; }
.btn-primary{ background: var(--brand-blue); color:#fff; box-shadow:0 3px 10px rgba(6,46,111,.2); }
.btn-primary:hover{ filter:brightness(1.05); }
.btn-ghost{ background: #ffffffaa; color: var(--brand-blue); border-color:#e6ecff; }
.btn-ghost:hover{ background:#fff; }
.btn.large{ width:100%; padding:16px 22px; font-size:17px; border-radius:14px; }

.panel.controls{
  max-width:1200px; margin:24px auto;
  display:grid; grid-template-columns: repeat(6, minmax(160px,1fr));
  gap:18px; background:#f4f7ff; padding:24px;
  border-radius:20px; border:1px solid #e6ecff; box-shadow:0 16px 40px rgba(6,46,111,.07);
}
.field{ display:flex; flex-direction:column; gap:8px; }
.field.full{ grid-column: 1 / -1; }
.field.span2{ grid-column: span 2; }
.field.span3{ grid-column: span 3; }
label{ font-size:12px; color:var(--muted); }
.hint{ font-size:12px; color:var(--muted); }
input, select{
  width:100%; padding:14px 16px; border-radius:12px;
  border:1px solid #d9e3ff; background:#fff; color:#0f172a;
  outline:none; box-shadow:0 1px 0 rgba(6,46,111,.03) inset;
}
input:focus, select:focus{ border-color:#b9cdfd; box-shadow:0 0 0 4px rgba(185,205,253,.5); }
.row{ display:flex; gap:12px; align-items:center; }
.row.wrap{ flex-wrap: wrap; }
.radio{ display:flex; gap:8px; align-items:center; user-select:none; }
.blocohide{ display:none; }
.blocovis{ display:grid; grid-template-columns: repeat(6, minmax(160px,1fr)); gap:18px; grid-column: 1 / -1; }
#blocoCampos{ grid-column: 1 / -1; grid-template-columns: repeat(6, minmax(160px,1fr)); }

.preview{
  max-width:1200px; margin:18px auto; display:flex; flex-wrap:wrap; gap:12px;
}

.labelwrap{
  width: calc(var(--label-w-mm) * 1mm);
  height: calc(var(--label-h-mm) * 1mm);
  overflow: hidden;
  position: relative;
}

.rot0 .label{ transform: rotate(0deg); transform-origin: top left; }
.rot90 .label{ transform: rotate(90deg) translate(0, -100%); transform-origin: top left; width: calc(var(--label-h-mm) * 1mm); height: calc(var(--label-w-mm) * 1mm); }
.rot180 .label{ transform: rotate(180deg) translate(-100%, -100%); transform-origin: top left; }
.rot270 .label{ transform: rotate(270deg) translate(-100%, 0); transform-origin: top left; width: calc(var(--label-h-mm) * 1mm); height: calc(var(--label-w-mm) * 1mm); }

/* Layout da etiqueta */
.label{
  width: calc(var(--label-w-mm) * 1mm);
  height: calc(var(--label-h-mm) * 1mm);
  background:#fff; border:1px solid #000;
  padding: calc(var(--margin-mm) * 1mm);
  display:grid; grid-template-rows: auto 1fr auto auto; gap:1.8mm;
  box-shadow: 0 1px 2px rgba(0,0,0,.06);
  position: relative; border-radius: 1.2mm;
}
.header{
  display:flex; align-items:center; justify-content:space-between;
  gap:2mm; padding:.8mm 1.2mm;
  border:1px solid #c9d6ff; border-radius:1.2mm; background:#f6f8ff;
  font-weight:900;
}
.header .title{ font-size: 12pt; }
.header .cd{ font-weight:900; }
.header .logos{ display:flex; gap:1.5mm; align-items:center; }
.header .logos img{ height: 6mm; object-fit:contain; opacity:.9; }

.main{
  display:grid; grid-template-columns: 1fr auto; gap:2mm; align-items:start;
}

.left{
  display:flex; flex-direction:column; gap:2mm;
}

.info{
  display:grid; grid-template-columns: auto 1fr; gap: .8mm 2mm;
  align-content:start; font-size: 10.5pt;
}
.lbl{ font-weight:800; }
.val{ font-weight:800; }

.bararea{ display:grid; gap:1mm; align-items:end; justify-items:center; }
svg.barcode{ width:100%; height: calc(var(--barcode-h-mm) * 1mm); }
.bartext{ font-size: 12pt; font-weight: 900; letter-spacing: .5px; }

.right{
  display:flex; flex-direction:column; gap:2mm; align-items:center; justify-content:flex-start;
}
.qrbox{ border:1px solid #000; border-radius: 1.2mm; padding: 1.6mm; }
.qrbox canvas{ width: 26mm; height: 26mm; image-rendering: pixelated; }

.volume-box{
  border:1px solid #000; border-radius: 2mm;
  padding: 2mm; width: 32mm; text-align:center;
  display:flex; flex-direction:column; gap:1mm; justify-content:center; align-items:center;
  background: #f2f5ff;
}
.volume-box .t{ font-weight:800; }
.volume-box .big{ font-size: 18pt; font-weight:900; line-height:1; }
.volume-box .mini{ font-size: 9pt; }

.legend{ font-size: 14pt; font-weight: 900; }
.meta{ font-size: 9.5pt; display:flex; gap:6mm; }

@media print{
  @page{ size: calc(var(--label-w-mm) * 1mm) calc(var(--label-h-mm) * 1mm); margin:0; }
  .app-header, .panel.controls, .app-footer{ display:none!important; }
  body{ background:#fff; }
  .preview{ display:block; margin:0; }
  .labelwrap{ page-break-after: always; margin:0; }
  .brand-logo.dp{ display:none !important; } /* Só PM na impressão */
}
.app-footer{ max-width:1200px; margin:20px auto; color:#64748b; }

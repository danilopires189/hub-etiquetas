:root{
  --label-w-mm: 75;
  --label-h-mm: 35;
  --margin-mm: 2;
  --textcol-mm: 12;
  --font-pt: 14;
  --bar-height: 1;
  --brand-blue: #062e6f;
  --brand-red: #e0002b;
  --ink: #0f172a;
  --muted: #64748b;
  --panel: #f3f6fb;
  --ring: #b9cdfd;
  --logo-mm: 10;
  --logo-opacity: .6;
  --transp-opacity: .3;
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  font-family: ui-sans-serif,system-ui,Segoe UI,Arial,sans-serif;
  margin:0;
  color: var(--ink);
  background: linear-gradient(180deg,#f6f8ff 0%, #fff 40%);
}

.app-header{
  position: sticky; top:0; z-index: 10;
  display:flex; align-items:center; justify-content:space-between;
  gap:12px; padding:12px 16px;
  background: linear-gradient(90deg, rgba(224,0,43,.10), rgba(6,46,111,.10));
  backdrop-filter: blur(6px);
  border-bottom:1px solid #e6ecff;
}
.brand{ display:flex; align-items:center; gap:12px; }
.brand-logos{ display:flex; gap:8px; align-items:center; }
.brand-logo{ width:42px; height:42px; border-radius:8px; object-fit:contain; padding:2px; background:transparent; box-shadow:0 1px 2px rgba(0,0,0,.15); }
.brand-text strong{ display:block; line-height:1; color:var(--brand-blue); }
.brand-text span{ color:var(--muted); font-size:12px; }

.actions{ display:flex; gap:8px; }

.btn{ appearance:none; border:1px solid transparent; padding:10px 14px; border-radius:10px; font-weight:600; cursor:pointer; }
.btn-primary{ background: var(--brand-blue); color:#fff; box-shadow:0 3px 10px rgba(6,46,111,.2); }
.btn-primary:hover{ filter:brightness(1.05); }
.btn-ghost{ background: #ffffffaa; color: var(--brand-blue); border-color:#e6ecff; }
.btn-ghost:hover{ background:#fff; }

.panel.controls{
  max-width:1100px;
  margin:18px auto;
  display:grid;
  grid-template-columns: repeat(6, minmax(160px,1fr));
  gap:12px;
  background: var(--panel);
  padding:14px;
  border-radius:16px;
  border:1px solid #e6ecff;
}
.field{ display:flex; flex-direction:column; gap:6px; }
.field.full{ grid-column: 1 / -1; }
label{ font-size:12px; color:var(--muted); }
.hint{ font-size:12px; color:var(--muted); }
input, select{
  width:100%; padding:10px 12px; border-radius:10px;
  border:1px solid #d9e3ff; background:#fff; color:#0f172a;
  outline:none; box-shadow:0 1px 0 rgba(6,46,111,.03) inset;
}
input:focus, select:focus{ border-color: var(--ring); box-shadow:0 0 0 4px rgba(185,205,253,.5); }
.row{ display:flex; gap:8px; align-items:center; }
.row.wrap{ flex-wrap: wrap; }
.switch{ display:flex; align-items:center; gap:8px; user-select:none; }
.switch input{ width:auto; }

.num{ max-width: 100px; }

.preview{
  max-width:1100px; margin:18px auto; display:flex; flex-wrap:wrap; gap:12px;
}

.label{
  width: calc(var(--label-w-mm) * 1mm);
  height: calc(var(--label-h-mm) * 1mm);
  border: 1px solid #000;
  background:#fff;
  display:flex; gap: calc(var(--margin-mm) * 1mm);
  padding: calc(var(--margin-mm) * 1mm);
  align-items:stretch;
  border-radius: 4px;
  box-shadow: 0 1px 2px rgba(0,0,0,.06);
  position:relative;
}

.bar-left{ flex: 1 1 auto; display:flex; align-items:center; justify-content:center; overflow:hidden; }
.text-right{ width: calc(var(--textcol-mm) * 1mm); display:flex; align-items:center; justify-content:center; gap: 2mm; flex-direction: column; }
.legend{ font-size: calc(var(--font-pt) * 1pt); line-height:1; letter-spacing:.5px; color:#111; }

.logo-stack{ display:flex; flex-direction:column; align-items:center; gap: 1mm; }
.logo{ width: calc(var(--logo-mm) * 1mm); height: auto; object-fit:contain; display:block; opacity: var(--logo-opacity); filter: grayscale(1) contrast(.95) brightness(1.15); }

.transp-icon{
  width: 6mm; height: 6mm; border-radius: 1mm; border: 0.2mm solid #bbb;
  background:
    linear-gradient(45deg,#eaeaea 25%, transparent 25%) 0 0/2mm 2mm,
    linear-gradient(-45deg,#eaeaea 25%, transparent 25%) 0 0/2mm 2mm,
    linear-gradient(45deg,transparent 75%, #eaeaea 75%) 0 0/2mm 2mm,
    linear-gradient(-45deg,transparent 75%, #eaeaea 75%) 0 0/2mm 2mm;
  opacity: var(--transp-opacity);
}

svg.barcode{ width:100%; height: calc(var(--bar-height) * (var(--label-h-mm) * 1mm - 2*var(--margin-mm) * 1mm)); display:block; }

.label.h .legend{ writing-mode: horizontal-tb; transform:none; }
.label.vcw .legend{ writing-mode: vertical-rl; transform:none; }
.label.vccw .legend{ writing-mode: vertical-rl; transform: rotate(180deg);}
.label.vcw .svgwrap{ transform: rotate(90deg); transform-origin:center; }
.label.vccw .svgwrap{ transform: rotate(-90deg); transform-origin:center; }

.print-no-logo .logo{ display:none !important; }

@media print{
  @page{ size: calc(var(--label-w-mm) * 1mm) calc(var(--label-h-mm) * 1mm); margin:0; }
  .app-header, .panel.controls, .app-footer{ display:none!important; }
  body{ background:#fff; }
  .preview{ display:block; margin:0; }
  .label{ page-break-after: always; margin:0; border:1px solid #000; box-shadow:none; border-radius:0; }
}

.app-footer{ max-width:1100px; margin:20px auto; color:#64748b; }

/* ===== Ajuste: dupla logo no topo ===== */
.app-header .brand-logo{ width:42px; height:42px; border-radius:8px; object-fit:contain; padding:2px; background:transparent; box-shadow:0 1px 2px rgba(0,0,0,.15); }
.app-header .secondary-logo{ margin-left: 12px; }

